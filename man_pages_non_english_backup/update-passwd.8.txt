UPDATE-PASSWD(8)            System Manager's Manual           UPDATE-PASSWD(8)

НАЗВАНИЕ
       update-passwd - безопасное обновление файлов /etc/passwd, /etc/shadow и
       /etc/group

СИНТАКСИС
       update-passwd [параметры]

ОПИСАНИЕ
       update-passwd  handles  updates   of   /etc/passwd,   /etc/shadow   and
       /etc/group on running Debian systems.  It compares the current files to
       master copies, distributed in the base-passwd package, and updates  all
       entries  in  the global system range (that is, 0–99).  It leaves backup
       copies of the previous versions of modified files  with  the  extension
       ‘.org’ (for “original”).

ПАРАМЕТРЫ
       Для  update-passwd  используется обычный синтаксис запуска программ GNU
       из командной строки, то есть длинные имена параметров начинаются с двух
       символов тире (‘-’).

       -p, --passwd-master=ФАЙЛ
              Использовать  ФАЙЛ  в  качестве мастер-копии базы данных passwd.
              Значением            по            умолчанию            является
              /usr/share/base-passwd/passwd.master.

       -g, --group-master=ФАЙЛ
              Использовать  ФАЙЛ  в  качестве  мастер-копии базы данных group.
              Значением            по            умолчанию            является
              /usr/share/base-passwd/group.master.

       -P, --passwd=ФАЙЛ
              Использовать  ФАЙЛ  в  качестве  системной  базы  данных passwd.
              Значением по умолчанию является /etc/passwd.

       -S, --shadow=ФАЙЛ
              Использовать ФАЙЛ  в  качестве  системной  базы  данных  shadow.
              Значением по умолчанию является /etc/shadow.

       -G, --group=ФАЙЛ
              Использовать  ФАЙЛ  в  качестве  системной  базы  данных  group.
              Значением по умолчанию является /etc/group.

       -s, --sanity-check
              Провести проверку на отсутствие  тривиальных  ошибок  ничего  не
              изменяя.

       -v, --verbose
              Показывать  подробную  информацию  о всех выполняемых действиях.
              Если  указать  параметр  -v  дважды,  будет  выдано  ещё  больше
              подробностей.

       -n, --dry-run
              Ничего не делать, только показать выполняемые действия.

       -L, --no-locking
              Не   пытаться  установить  блокировку  на  базу  данных.  Должно
              использоваться  только  в  отладочных   целях.    Внимание:   не
              используйте этот параметр, если вам это действительно ненужно!

       -h, --help
              Показать справку по работе с update-passwd.

       -V, --version
              Показать номер версии

ENVIRONMENT
       DEBIAN_HAS_FRONTEND
              If  this  environment variable is set and the --dry-run flag was
              not given, update-passwd uses debconf to prompt for  whether  to
              make  changes.   Each  proposed  change  will produce a separate
              prompt.  User or group removals, UID or GID  changes,  and  home
              directory  changes  will  be  asked with high priority.  User or
              group additions and shell changes will be asked with medium pri‐
              ority.   Questions  about  whether to move entries above the NIS
              compat inclusion entry or whether to change the GECOS of a  user
              are asked at low priority.

ОШИБКИ
       На  данный  момент  update-passwd  не производит проверку файла shadow.
       Нужно проверять, что записи из passwd есть в shadow и наоборот,  и  то,
       что пароли не указаны в обоих файлах сразу.

АВТОР
       Вичерт Акерман (Wichert Akkerman) <wakkerma@debian.org>

       Эта  программа  была  написана  для  проекта  Debian;  авторское  право
       принадлежит 1999–2002 Wichert Akkerman и 2002, 2003 Colin  Watson.  Она
       распространяется  на  условиях  универсальной общественной лицензии GNU
       версии 2.

DEBIAN                          утилиты Debian                UPDATE-PASSWD(8)