NAME

pmLookupInDomArchive
- translate an instance name into an instance identifier

C SYNOPSIS

#include

int
pmLookupInDomArchive(pmInDom indom, const char
*name);

cc ...
-lpcp

DESCRIPTION

Provided the
current Performance Metrics Application Programming
Interface (PMAPI) context is associated with a set of
archives, pmLookupInDomArchive will scan the union of
all the instance domain metadata for the instance domain
indom, locate the first instance with the external
identification given by name, and return the internal
instance identifier.

This routine is
a specialized version of the more general PMAPI routine
pmLookupInDom.

Only the
leading non-space characters of name will be used to
identify the instance.

The value for
the instance domain indom is typically extracted from
a pmDesc structure, following a call to
pmLookupDesc(3) for a particular performance
metric.

pmLookupInDomArchive
will return a positive instance identifier on success.

DIAGNOSTICS

PM_ERR_NOTARCHIVE

the current PMAPI context is
not associated with a set of archives

PM_ERR_INDOM_LOG

indom is not a defined
instance domain identifier for the set of archives

PM_ERR_INST_LOG

the external instance
name is not known for the instance domain
indom in the set of archives

SEE ALSO

PMAPI(3),
pmGetConfig(3), pmGetInDomArchive(3),
pmLookupDesc(3), pmLookupInDom(3),
pmNameInDomArchive(3), pcp.conf(5) and
pcp.env(5).