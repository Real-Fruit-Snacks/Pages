RAL(4) BSD Kernel Interfaces Manual RAL(4)

NAME

ral — Ralink
Technology IEEE 802.11a/g/n wireless network device

SYNOPSIS

To compile this driver into the
kernel, place the following lines in your kernel
configuration file:

device ral

device ralfw 
device wlan 
device wlan_amrr 
device firmware

Alternatively,
to load the driver as a module at boot time, place the
following line in loader.conf(5):

if_ral_load="YES"

DESCRIPTION

The ral driver supports
PCI/PCIe/CardBus wireless adapters based on the Ralink
RT2500, RT2501, RT2600, RT2700, RT2800, RT3090 and RT3900E
chipsets.

The RT2500
chipset is the first generation of 802.11b/g adapters from
Ralink. It consists of two integrated chips, an RT2560
MAC/BBP and an RT2525 radio transceiver.

The RT2501
chipset is the second generation of 802.11a/b/g adapters
from Ralink. It consists of two integrated chips, an RT2561
MAC/BBP and an RT2527 radio transceiver. This chipset
provides support for the IEEE 802.11e standard with multiple
hardware transmission queues and allows scatter/gather for
efficient DMA operations.

The RT2600
chipset consists of two integrated chips, an RT2661 MAC/BBP
and an RT2529 radio transceiver. This chipset uses the MIMO
(multiple-input multiple-output) technology with multiple
radio transceivers to extend the operating range of the
adapter and to achieve higher throughput. However, the
RT2600 chipset does not support any of the 802.11n
features.

The RT2700
chipset is a low-cost version of the RT2800 chipset. It
supports a single transmit path and two receiver paths
(1T2R). It consists of two integrated chips, an RT2760 or
RT2790 (PCIe) MAC/BBP and an RT2720 (2.4GHz) or RT2750
(2.4GHz/5GHz) radio transceiver.

The RT2800
chipset is the first generation of 802.11n adapters from
Ralink. It consists of two integrated chips, an RT2860 or
RT2890 (PCIe) MAC/BBP and an RT2820 (2.4GHz) or RT2850
(2.4GHz/5GHz) radio transceiver. The RT2800 chipset supports
two transmit paths and up to three receiver paths
(2T2R/2T3R). It can achieve speeds up to 144Mbps (20MHz
bandwidth) and 300Mbps (40MHz bandwidth.)

The RT3090
chipset is the first generation of single-chip 802.11n
adapters from Ralink. ral supports station,
adhoc, hostap, mesh, wds, and
monitor mode operation. Only one hostap or
mesh virtual interface may be configured at a time.
Any number of wds virtual interfaces may be
configured together with a hostap interface. Multiple
station interfaces may be operated together with a
hostap interface to construct a wireless repeater
device.

The RT3900E
chipset is a single-chip 802.11n adapters from Ralink. The
MAC/Baseband Processor can be an RT5390 or RT5392. The
RT5390 chip operates in the 2GHz spectrum and supports 1
transmit path and 1 receiver path (1T1R). The RT5392 chip
operates in the 2GHz spectrum and supports up to 2 transmit
paths and 2 receiver paths (2T2R).

The transmit
speed is user-selectable or can be adapted automatically by
the driver depending on the number of hardware transmission
retries. For more information on configuring this device,
see ifconfig(8).

HARDWARE

The ral driver supports
PCI/PCIe/CardBus wireless adapters based on Ralink
Technology chipsets, including:

Card MAC/BBP
Bus 
A-Link WL54H RT2560 PCI 
A-Link WL54PC RT2560 CardBus 
AirLink101 AWLC5025 RT2661 CardBus 
AirLink101 AWLH5025 RT2661 PCI 
Amigo AWI-914W RT2560 CardBus 
Amigo AWI-922W RT2560 mini-PCI 
Amigo AWI-926W RT2560 PCI 
AMIT WL531C RT2560 CardBus 
AMIT WL531P RT2560 PCI 
AOpen AOI-831 RT2560 PCI 
ASUS WL-107G RT2560 CardBus 
ASUS WL-130g RT2560 PCI 
Atlantis Land A02-PCI-W54 RT2560 PCI 
Atlantis Land A02-PCM-W54 RT2560 CardBus 
Belkin F5D7000 v3 RT2560 PCI 
Belkin F5D7010 v2 RT2560 CardBus 
Billionton MIWLGRL RT2560 mini-PCI 
Canyon CN-WF511 RT2560 PCI 
Canyon CN-WF513 RT2560 CardBus 
CC&C WL-2102 RT2560 CardBus 
CNet CWC-854 RT2560 CardBus 
CNet CWP-854 RT2560 PCI 
Compex WL54G RT2560 CardBus 
Compex WLP54G RT2560 PCI 
Conceptronic C54RC RT2560 CardBus 
Conceptronic C54Ri RT2560 PCI 
D-Link DWA-525 rev A2 RT5392 PCI 
Digitus DN-7001G-RA RT2560 CardBus 
Digitus DN-7006G-RA RT2560 PCI 
E-Tech WGPC02 RT2560 CardBus 
E-Tech WGPI02 RT2560 PCI 
Edimax EW-7108PCg RT2560 CardBus 
Edimax EW-7128g RT2560 PCI 
Eminent EM3036 RT2560 CardBus 
Eminent EM3037 RT2560 PCI 
Encore ENLWI-G-RLAM RT2560 PCI 
Encore ENPWI-G-RLAM RT2560 CardBus 
Fiberline WL-400P RT2560 PCI 
Fibreline WL-400X RT2560 CardBus 
Gigabyte GN-WI01GS RT2561S mini-PCI 
Gigabyte GN-WIKG RT2560 mini-PCI 
Gigabyte GN-WMKG RT2560 CardBus 
Gigabyte GN-WP01GS RT2561S PCI 
Gigabyte GN-WPKG RT2560 PCI 
Hawking HWC54GR RT2560 CardBus 
Hawking HWP54GR RT2560 PCI 
iNexQ CR054g-009 (R03) RT2560 PCI 
JAHT WN-4054P RT2560 CardBus 
JAHT WN-4054PCI RT2560 PCI 
LevelOne WNC-0301 v2 RT2560 PCI 
LevelOne WPC-0301 v2 RT2560 CardBus 
Linksys WMP54G v4 RT2560 PCI 
Micronet SP906GK RT2560 PCI 
Micronet SP908GK V3 RT2560 CardBus 
Minitar MN54GCB-R RT2560 CardBus 
Minitar MN54GPC-R RT2560 PCI 
MSI CB54G2 RT2560 CardBus 
MSI MP54G2 RT2560 mini-PCI 
MSI PC54G2 RT2560 PCI 
OvisLink EVO-W54PCI RT2560 PCI 
PheeNet HWL-PCIG/RA RT2560 PCI 
Planex GW-NS300N RT2860 CardBus 
Pro-Nets CB80211G RT2560 CardBus 
Pro-Nets PC80211G RT2560 PCI 
Repotec RP-WB7108 RT2560 CardBus 
Repotec RP-WP0854 RT2560 PCI 
SATech SN-54C RT2560 CardBus 
SATech SN-54P RT2560 PCI 
Sitecom WL-112 RT2560 CardBus 
Sitecom WL-115 RT2560 PCI 
SMC SMCWCB-GM RT2661 CardBus 
SMC SMCWPCI-GM RT2661 PCI 
SparkLAN WL-685R RT2560 CardBus 
Surecom EP-9321-g RT2560 PCI 
Surecom EP-9321-g1 RT2560 PCI 
Surecom EP-9428-g RT2560 CardBus 
Sweex LC500050 RT2560 CardBus 
Sweex LC700030 RT2560 PCI 
TekComm NE-9321-g RT2560 PCI 
TekComm NE-9428-g RT2560 CardBus 
Unex CR054g-R02 RT2560 PCI 
Unex MR054g-R02 RT2560 CardBus 
Zinwell ZWX-G160 RT2560 CardBus 
Zinwell ZWX-G360 RT2560 mini-PCI 
Zinwell ZWX-G361 RT2560 PCI 
Zonet ZEW1500 RT2560 CardBus 
Zonet ZEW1600 RT2560 PCI

EXAMPLES

Join an existing BSS network
(i.e., connect to an access point):

ifconfig wlan
create wlandev ral0 inet 192.168.0.20 netmask 0xffffff00

Join a specific
BSS network with network name
’’my_net’’:

ifconfig wlan
create wlandev ral0 inet 192.168.0.20 \ 
netmask 0xffffff00 ssid my_net

Join a specific
BSS network with 40-bit WEP encryption:

ifconfig wlan
create wlandev ral0 inet 192.168.0.20 \ 
netmask 0xffffff00 ssid my_net \ 
wepmode on wepkey 0x1234567890 weptxkey 1

Join a specific
BSS network with 104-bit WEP encryption:

ifconfig wlan
create wlandev ral0 inet 192.168.0.20 \ 
netmask 0xffffff00 ssid my_net \ 
wepmode on wepkey 0x01020304050607080910111213 weptxkey
1

DIAGNOSTICS

ral%d: could not load 8051
microcode  An error occurred while attempting to
upload the microcode to the onboard 8051 microcontroller
unit.

ral%d:
timeout waiting for MCU to initialize  The onboard
8051 microcontroller unit failed to initialize in time.

ral%d: device
timeout  A frame dispatched to the hardware for
transmission did not complete in time. The driver will reset
the hardware. This should not happen.

SEE ALSO

cardbus(4), intro(4), wlan(4),
wlan_ccmp(4), wlan_tkip(4), wlan_wep(4), wlan_xauth(4),
hostapd(8), ifconfig(8), wpa_supplicant(8)

Ralink Technology

,

http://www.ralinktech.com/ .

HISTORY

The ral driver first
appeared in OpenBSD 3.7. Support for the RT2501 and
RT2600 chipsets was added in OpenBSD 3.9. Support for
the RT2800 chipset was added in OpenBSD 4.3. Support
for the RT2700 chipset was added in OpenBSD 4.4.
Support for the RT3090 chipset was added in
OpenBSD 4.9.

AUTHORS

The original ral driver
was written by Damien Bergamini
damien [AT] openbsd.org>.

CAVEATS

The ral driver does not
make use of the hardware cryptographic engine.

The ral
driver does not support any of the 802.11n capabilities
offered by the RT2700 and RT2800 chipsets. Additional work
is required in before those features can be supported.

Host AP mode
does not support power saving. Clients attempting to use
power saving mode may experience significant packet loss
(disabling power saving on the client will fix this).

Some PCI
ral adapters strictly require a system supporting PCI
2.2 or greater. Check the board’s PCI version before
purchasing the card as it is likely these adapters will not
work in systems based on older revisions of the PCI
specification.

BSD
April 4, 2017 BSD