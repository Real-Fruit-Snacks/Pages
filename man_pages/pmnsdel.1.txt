NAME

pmnsdel
- delete a subtree of names from the Performance Co-Pilot
PMNS

SYNOPSIS

$PCP_BINADM_DIR/pmnsdel
[-?] [-n namespace] metricpath
[...]

DESCRIPTION

pmnsdel
removes subtrees of names from a Performance Metrics Name
Space (PMNS), as used by the components of the Performance
Co-Pilot (PCP).

Normally
pmnsdel operates on the default Performance Metrics
Name Space (PMNS), however if the -n option is
specified an alternative namespace is used from the file
namespace.

The default
PMNS is found in the file $PCP_VAR_DIR/pmns/root
unless the environment variable PMNS_DEFAULT is set,
in which case the value is assumed to be the pathname to the
file containing the default PMNS.

The metric
names to be deleted are all those for which one of the
metricpath arguments is a prefix in the PMNS, see
PMNS(5).

All of the
files defining the PMNS must be located within the directory
that contains the root of the PMNS, and this would typically
be $PCP_VAR_DIR/pmns for the default PMNS, and this
would typically imply running pmnsdel as root.

Provided some
initial integrity checks are satisfied, pmnsdel will
update the necessary PMNS files. Should an error be
encountered the original namespace is restored. Note that
any PMNS files that are no longer referenced by the modified
namespace will not be removed, even though their contents
are not part of the new namespace.

OPTIONS

The available
command line options are: 
-n pmnsfile,
--namespace=pmnsfile

Load an alternative Performance
Metrics Name Space (PMNS(5)) from the file
pmnsfile.

-?, --help

Display usage message and
exit.

CAVEATS

Once the
writing of the new namespace file has begun, the
signals SIGINT, SIGHUP and SIGTERM will be ignored to
protect the integrity of the new files.

FILES

$PCP_VAR_DIR/pmns/root

the default PMNS, when the
environment variable PMNS_DEFAULT is unset

PCP ENVIRONMENT

Environment
variables with the prefix PCP_ are used to
parameterize the file and directory names used by PCP. On
each installation, the file /etc/pcp.conf contains
the local values for these variables. The $PCP_CONF
variable may be used to specify an alternative configuration
file, as described in pcp.conf(5).

SEE ALSO

pmnsadd(1),
pmnsmerge(1), pcp.conf(5), pcp.env(5)
and PMNS(5).