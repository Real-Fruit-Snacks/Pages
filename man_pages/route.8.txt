ROUTE(8)                  Manual do Programador Linux                 ROUTE(8)

NOME
       route - mostra / manipula a tabela de roteamento IP

SINOPSE
       route [-vnee]

       route  [-v]  add [-net|-host] Alvo [netmask Nm] [gw Gw] [metric N] [mss
              M] [window W] [irtt I] [reject] [mod] [dyn]  [reinstate]  [[dev]
              If]

       route  [-v]  del  [-net|-host]  Alvo  [gw  Gw]  [netmask Nm] [metric N]
              [[dev] If]

       route  [-V] [--version] [-h] [--help]

DESCRICAO
       Route manipula a tabela de roteamento IP do kernel. Seu principal uso é
       configurar rotas estáticas para hosts ou redes especificadas através de
       uma interface, após a mesma ter sido configurada com o programa  ifcon‐
       fig(8)

OPÇÕES
       -v     flag para detalhamento (não usada).

       -n     mostra endereços numéricos, sem tentar resolver o nomes simbóli‐
              cos das máquinas. Útil se você esta tentando determinar por  que
              a rota para o seu servidor de nomes sumiu.

       -e     use  o  formato  netstat(8)  na apresentação da tabela de rotea‐
              mento.  -ee produzira uma linha bem grande com todos os parâmet‐
              ros da tabela de roteamento.

       -net   o Alvo é o endereço de uma rede (encontrado no arquivo /etc/net‐
              works pela função getnetbyname(2) ).

       -host  é o endereço de uma máquina (descoberto com a função  gethostby‐
              name(2) ).

       (nenhum)
              displays  the  kernel  routing  table. The layout can be changed
              with mostra a tabela de roteamento do kernel. O layout pode  ser
              alterado com -e e -ee

       del    remove uma rota.

       add    adiciona uma rota.

       Alvo   A  máquina  ou  rede destino. Você pode fornecer endereços IP em
              formato decimal separado por pontos ou nomes de máquinas/redes.

       netmask Nm
              modificador para especificar a mascara de rede  da  rota  a  ser
              adicionada.   Somente  faz sentido para uma rota para uma rede e
              quanto o endereço Alvo é valido com relação a mascara  especifi‐
              cada.  Se  nenhuma  mascara  de rede for especificada, o comando
              route descobre-a, desta forma, para a maioria das  configurações
              normais você não precisa especificar uma mascara de rede.

       gw Gw  Quaisquer  pacotes IP para a rede/máquina destino serão roteadas
              através do gateway/roteador especificado.  NOTA: O  gateway  es‐
              pecificado deve ser alcançável antes deste comando. Isto normal‐
              mente significa que você terá que configurar uma  rota  estática
              para o gateway antes de emitir este comando. Se você especificar
              o endereço de uma de suas interfaces  locais,  isto  será  usado
              para  decidir sobre qual interface deve ser usada para rotear os
              pacotes. Isto esta disponível para manter compatibilidade com os
              sistemas baseados em BSD.

       metric M
              Configura  o  campo de métrica na tabela de roteamento, usado em
              daemons para roteamento dinâmico.

       mss M  Especifica o Tamanho Máximo do Segmento TCP em Bytes (MSS)  para
              conexões  TCP  através  desta rota. Isto é normalmente usado so‐
              mente para otimização fina de configurações de roteamento.

       window W
              Especifica o tamanho da janela TCP  para  conexões  TCP  através
              desta  rota.   Tipicamente  somente  usado para redes AX.25 e em
              drivers incapazes de de tratar frames back to back.

       irtt I Especifica o tempo de ida e volta inicial (irtt)  para  conexões
              TCP  através  desta  rota.  Tipicamente  usado  somente em redes
              AX.25. O numero é especificado  em  milisegundos  (1-12000).  Se
              omitido o default da RFC 1122 de 300ms é usado.

       reject Instala  uma  rota de bloqueio, que forçará falha na procura por
              esta rota.  Exemplo de utilização: bloquear rotas antes  do  uso
              da rota default.  Isto não é firewalling.

       mod, dyn, reinstate
              Instala  uma  rota  modificada  ou  dinâmica. Ambas as flags são
              geralmente somente configuradas por um daemon de roteamento. So‐
              mente para propósitos de diagnostico.

       dev If Força  a associação da rota com o dispositivo especificado, pois
              o kernel de outra forma tentara  determinar  o  dispositivo  por
              conta  própria (através da checagem de rotas e especificações de
              dispositivos já existentes e onde a rota esta adicionada).

              If dev If é a última opção na linha de comando,  a  palavra  dev
              pode  ser  omitida, pois é o default. De outra forma a ordem dos
              outros modificadores do route (metric - netmask - gw - dev)  não
              importa.

EXEMPLOS
       route add -net 127.0.0.0
              Adiciona a entrada para a interface loopback normal, usando mas‐
              cara igual a 255.0.0.0 (rede classe A, determinada a  partir  do
              endereço  de  destino), associada ao dispositivo "lo" (assumindo
              que este dispositivo tenha sido previamente  configurado  com  o
              ifconfig(8)).

       route add -net 192.56.76.0 netmask 255.255.255.0 dev eth0
              Adiciona  uma  rota para a rede 192.56.76.x através da interface
              "eth0". O modificador  de  mascara  classe  C  não  é  realmente
              necessário  aqui  por  que 192.* é um endereço IP de classe C. A
              palavra "dev" pode ser omitida aqui.

       route add default gw mango-gw
              Adiciona uma rota default (que será usada se nenhuma outra  rota
              for  encontrada).   Todos  os pacotes que usarem esta rota serão
              passados para a máquina "mango-gw".  O dispositivo que será uti‐
              lizado  para  esta  rota  depende  de  como  é possível alcançar
              "mango-gw" - a rota estática para "mango-gw" terá que  ser  con‐
              figurada previamente.

       route add ipx4 sl0
              Adiciona  uma  rota  para  a máquina "ipx4" através da interface
              SLIP (assumindo que "ipx4" é a máquina SLIP).

       route add -net 192.57.66.0 netmask 255.255.255.0 gw ipx4
              Este comando adiciona a rede "192.57.66.x"  para  ser  alcançada
              através da rota anterior através da interface SLIP.

       route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0
              Isto  é bem obscura, documentada para que as pessoas saibam como
              usá-la.  Configura para que todas as rotas IP classe  D  (multi‐
              cast)  vão  através  da interface "eth0". Esta é a linha de con‐
              figuração normal a ser usada com um kernel multicast.

       route add 10.0.0.0 netmask 255.0.0.0 reject
              Esta instala uma rota de rejeição para a rede privada "10.x.x.x"

SAÍDA
       A saída da tabela de roteamento do kernel é  organizada  nas  seguintes
       colunas

       Destino
              A rede ou máquina de destino.

       Roteador
              A máquina roteador ou '*' se nenhuma estiver configurada.

       Mascara Genérica
              A  mascara  para  a  rede  destino.  '255.255.255.255'  para uma
              máquina de destino, '0.0.0.0' para a rota default

       Flags  Os flags possíveis são
              U (rota esta Up)
              H (alvo é uma máquina)
              G (use roteador)
              R (reinstate rota para roteamento dinâmico)
              D Instalada (Dinamicamente por um  daemon  ou  por  redireciona‐
              mento)
              M (Modificada por daemon de roteamento ou redirecionamento)
              !  Rota (rejeitada )

       Metric A  'distância'  até  o  alvo (geralmente contada em hops). Não é
              utilizada pelos kernels recentes, somente daemons de  roteamento
              podem usa-la.

       Ref    Numero de referências a esta rota. Não usado no kernel do Linux,
              sempre 0.

       Uso    Contagem de procuras por esta rota. Nos kernels  recentes  estes
              números  são bem baixos, pois os sockets tem seu próprio cache e
              não precisam procurar por rotas.

       Iface  Interface através da qual os pacotes IP serão enviados.

       MSS    Tamanho máximo de segmento default  para  conexões  TCP  através
              desta rota.

       Window Tamanho de janela default para conexões TCP através desta rota.

       irtt   RTT  (Tempo  de Ida e Volta) Inicial. O kernel usa isto para in‐
              ferir os melhores parâmetros do protocolo TCP  sem  esperar  por
              respostas (possivelmente lentas).

ARQUIVOS
       /proc/net/route
       /etc/networks
       /etc/hosts
       /etc/init.d/network

VEJA TAMBÉM
       ethers(5), arp(8), rarp(8), route(8), ifconfig(8), netstat(8)

HISTÓRICO
       Route  para  o  linux foi originalmente escrito por Fred N. van Kempen,
       <waltje@uwalt.nl.mugnet.org> e depois modificado por Johannes Stille  e
       Linus  Torvalds  para  a versão pl15. Alan Cox adicionou as opções para
       mss e window no kernel 1.1.22. O suporte a irtt  (compartilhado  com  o
       netstat) foi feito por Bernd Eckenfels.

TRADUÇÃO
       Arnaldo Carvalho de Melo <acme@conectiva.com.br> - 13/04/1998

BUGS
       nenhum :)

net-tools                         27 Jan 1996                         ROUTE(8)