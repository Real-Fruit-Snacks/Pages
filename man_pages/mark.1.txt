NAME

mark -
manipulate nmh message sequences

SYNOPSIS

mark

[-help] [-version]
[+folder] [msgs] [-sequence name
...] [-add | -delete | -list]
[-public | -nopublic] [-zero |
-nozero] [-empty | -noempty]
[-range | -norange]

DESCRIPTION

The mark
command manipulates message sequences by adding or deleting
message numbers from folder-specific message sequences, or
by listing those sequences and messages.

A message
sequence is a keyword, just like one of the
&ldquo;reserved&rdquo; message names, such as
&ldquo;first&rdquo; or &ldquo;next&rdquo;. Unlike the
&ldquo;reserved&rdquo; message names, which have a fixed
semantics on a per-folder basis, the semantics of a message
sequence may be defined, modified, and removed by the user.
Message sequences are folder-specific, e.g., the sequence
name &ldquo;seen&rdquo; in the context of folder
&ldquo;+inbox&rdquo; need not have any relation
whatsoever to the sequence of the same name in a folder of a
different name.

Three action
switches direct the operation of mark. These switches
are mutually exclusive: the last occurrence of any of them
overrides any previous occurrence of the other two.

The -add
switch tells mark to add messages to sequences or to
create a new sequence. For each sequence named via the
-sequence name argument (which must occur at
least once) the messages named via msgs (which
defaults to &ldquo;cur&rdquo; if no msgs are given),
are added to the sequence. The messages to be added need not
be absent from the sequence. If the -zero switch is
specified, the sequence will be emptied prior to adding the
messages. Hence, -add -zero means that each sequence
should be initialized to the indicated messages, while
-add -nozero means that each sequence should be
appended to by the indicated messages. The -empty
switch does not affect the operation of -add.

The
-delete switch tells mark to delete messages
from sequences, and is the dual of -add. For each of
the named sequences, the named messages are removed from the
sequence. These messages need not be already present in the
sequence. If the -zero switch is specified, then all
messages in the folder are added to the sequence (first
creating the sequence, if necessary) before removing the
messages. Hence, -delete -zero means that each
sequence should contain all messages except those indicated,
while -delete -nozero means that only the indicated
messages should be removed from each sequence. As expected,
the command &ldquo;mark -sequence foo
-delete all&rdquo; empties the sequence
&ldquo;foo&rdquo;, and therefore removes that sequence from
the current folder&rsquo;s list of sequences. Sequence
foo must exist or a &ldquo;no such sequence&rdquo;
error results. This can be avoided by adding -zero:
&ldquo;mark -sequence foo -delete -zero all&rdquo;
ensures sequence foo no longer exists. The
-empty switch does not affect the operation of
-delete.

When creating
or modifying sequences, you can specify the switches
-public or -nopublic to force the new or
modified sequences to be &ldquo;public&rdquo; or
&ldquo;private&rdquo;. The switch -public indicates
that the sequences should be made &ldquo;public&rdquo;.
These sequences will then be readable by all nmh
users with permission to read the relevant folders. In
contrast, the -nopublic switch indicates that the
sequences should be made &ldquo;private&rdquo;, and will
only be accessible by you. If neither of these switches is
specified, then existing sequences will maintain their
current status, and new sequences will default to
&ldquo;public&rdquo; if you have write permission for the
relevant folder. Check mh-sequence(5) for more
details about the difference between &ldquo;public&rdquo;
and &ldquo;private&rdquo; sequences.

The
-list switch tells mark to list all sequences,
and the messages associated with them. The output can be
limited to just certain sequences (with -sequence
switches) and/or messages (with msgs arguments).
Normally, -list will show all sequences associated
with the folder, or all sequences given with
-sequence. Using -noempty will suppress any
which would show as empty, whether because they actually are
empty, or because they don&rsquo;t include any of the given
msgs, or because they&rsquo;ve been specified with
-sequence but don&rsquo;t exist. (-empty is
the default.) With the default -range switch,
mark will compress consecutive runs of message
numbers to save space. That is,
"3 4 5 6" will be shown as the
range "3-6". With -norange, lists will be
fully enumerated. The -zero switch does not affect
the operation of -list.

The
restrictions on sequences are:

&bull;

The name used to denote a message sequence must consist
of an alphabetic character followed by zero or more
alphanumeric characters, and cannot be one of the (reserved)
message names &ldquo;new&rdquo;, &ldquo;first&rdquo;,
&ldquo;last&rdquo;, &ldquo;all&rdquo;, &ldquo;next&rdquo;,
or &ldquo;prev&rdquo;.

&bull;

Message ranges with user-defined sequence names are
restricted to the form &ldquo;name:n&rdquo;,
&ldquo;name:+n&rdquo;, or &ldquo;name:-n&rdquo;, and refer
to the first or last &rsquo;n&rsquo; messages of the
sequence &rsquo;name&rsquo;. If &rsquo;=&rsquo; is
substituted for &rsquo;:&rsquo;, these forms will instead
refer to single messages positioned &rsquo;n&rsquo; away
from one end or the other of the sequence. Constructs of the
form &ldquo;name1-name2&rdquo; are forbidden for user
defined sequences.

FILES

$HOME/.mh_profile

The user&rsquo;s profile.

PROFILE COMPONENTS

Path:

To determine the user&rsquo;s
nmh directory.

Current-Folder:

To find the default current folder.

SEE ALSO

flist(1),
pick(1), mh-sequence(5)

DEFAULTS

+folder

The current folder.

-add

If -sequence is specified, -list
otherwise. 

msgs

The current message, or all if -list is
specified. 

-nozero

CONTEXT

If a folder is given, it will
become the current folder.

HELPFUL HINTS

Use
flist to find folders with a given sequence, and
&ldquo;pick sequence -list&rdquo; to
enumerate those messages in the sequence (such as for use by
a shell script).