NAME

lilo.conf -
configuration file for lilo

DESCRIPTION

This file, by
default /etc/lilo.conf, is read by the boot loader
installer &rsquo;lilo&rsquo; (see lilo(8)).

It might look
as follows:

#
/etc/lilo.conf 
# 
# global options: 
boot=/dev/hda 
prompt 
timeout=150 
lba32 
compact 
vga=normal 
root=/dev/hda1 
read-only 
menu-title=" John&rsquo;s Computer " 
# 
### bootable kernel images ### 
image=/boot/vmlinuz-2.6.29-1-i386 
label=try 
initrd=/boot/initrd.img-2.6.29-1-i386 
image=/boot/vmlinuz-2.4.33-1-i386 
label=2.4.33 
image=/tamu/vmlinuz 
label=tamu 
initrd=/tamu/initrd.img 
root=/dev/hdb2 
vga=ask 
# 
### other operating systems ### 
other=/dev/hda3 
label=PCDOS 
boot-as=0x80 # must be C: 
other=/dev/hdb1 
label=WinXP 
boot-as=0x80 # must be C: 
other=/dev/hdb5 
label=oldDOS 
loader=chain 
table=/dev/hdb5

This
configuration file specifies that lilo uses the Master Boot
Record on /dev/hda. (For a discussion of the various ways to
use lilo, and the interaction with other operating systems,
see html/user_21-5.html inside the old documentation.)

When booting,
the boot loader will issue its boot: prompt and wait
for you to enter the label of the kernel (and any options)
which you wish to boot. At any time you may hit [Tab] to see
a list of kernel/other labels. Alternately, if the
menu boot loader is installed, a menu of boot options
will be presented for your selection. The title of this menu
is overridden with the menu title specification in this
configuration file. If you enter nothing, then the default
kernel image, the first mentioned, (in the example
/boot/vmlinuz-2.6.29-1-i386) will be booted after a timeout
of 15 seconds (150 deciseconds). There may be at least 16
images mentioned in lilo.conf. (The exact number depends
upon compilation options.)

As can be seen
above, a configuration file starts with a number of global
options (the top 9 lines in the example), followed by
descriptions of the options for the various images. An
option in an image description will override a global
option.

Comment lines
may appear anywhere, and begin with the "#"
character.

GLOBAL OPTIONS

There are many
possible keywords. The description below is almost literally
from html/user_21-5.html inside the old documentation (just
slightly abbreviated). 
backup=

Specifies the location where a
copy of any modified boot sector will be saved in a file.
&rsquo;backup=&rsquo; may specify this location in one of
three ways: a directory where the default backup file
&rsquo;boot.NNNN&rsquo; will be created; a file pathname
template to which the &rsquo;.NNNN&rsquo; suffix will be
added; or the full file pathname, which must include the
correct &rsquo;.NNNN&rsquo; suffix. All RAID installations
should use only the first two alternatives, as multiple
backups may be created. The &rsquo;.NNNN&rsquo; suffix is
the hexadecimal representation of the major and minor device
numbers of the device or partition. If this option is not
specified, the default name of boot sector backups is
&rsquo;/boot/boot.NNNN&rsquo;. If a backup already exists,
it will be preserved, rather than overwritten. C.f.,
force-backup= below.

bios-passes-dl=

The option is indicated as
yes, no, or unknown. If not specified,
a value of "unknown" is assumed, unless additional
information is available to the boot installer. When
"no" is specified, it indicates that the BIOS is
known not to pass the current boot device code to the boot
loader in the DL register. Its only function at this point
is experimental, as certain RAID installations may benefit
from knowing that the BIOS is 100% reliable. Its use should
be considered experimental.

This option may
be specified on the command line with the &rsquo;-Z&rsquo;
switch: yes=1, no=0.

bitmap=

Specifies use of a 640x480x16
(VGA BIOS) or 640x480x256 (VGA/VESA BIOS) bitmap file as the
background on which a boot menu is displayed. May not be
used if &rsquo;message=&rsquo; is specified. Use of this
option will select a bitmap-capable boot loader, unless
overridden with "install=" (see below).

When a bitmap
file is specified as a background screen during the boot
process, the color selection and layout of the text which
overlays the graphic image must be specified in one of two
ways.

One way is the
use of header information in the bitmap image (*.bmp) file:
From a text file with all the information about
&rsquo;bmp-colors&rsquo;, &rsquo;bmp-table&rsquo; and
&rsquo;bmp-timer&rsquo; options together with the
&rsquo;bitmap&rsquo; option are stored in the special LILO
header of the bitmap image file by the lilo -E
command. Another way works without these special header
information: All the information about
&rsquo;bmp-colors&rsquo;, &rsquo;bmp-table&rsquo; and
&rsquo;bmp-timer&rsquo; options together with the
&rsquo;bitmap&rsquo; option are stored in the configuration
file. Any use of the &rsquo;bmp-&rsquo; options within the
configuration file overrides the options stored in the
bitmap file header. If lilo cannot find any of the
&rsquo;bmp-&rsquo; options, then default values are
used.

bmp-colors=,,,,,

Specifies the decimal values of
the colors to be used for the menu display on a
&rsquo;bitmap=&rsquo; background. The list consists of 6
entries, 3 for normal text followed by 3 for highlighted
text. The order of each triple is: foreground color,
background color, shadow color. If background color is not
specified, "transparent" is assumed. If shadow
color is not specified, then "none" is assumed.
The list entries are separated by commas, with no
spaces.

bmp-retain

Option applies to all
&rsquo;image=&rsquo; and &rsquo;other=&rsquo; sections. (See
COMMON OPTIONS, below.)

bmp-table=,,,,,

Specifies the location and
layout of the menu table. , specify the
starting x- and y-position of the upper left corner of the
table in character coordinates: x in [1..80], y in [1..30].
 is the number of columns in the menu (1..5);
and  is the number of rows (entries) in each
column. If more than one column is specified, then
 is the number of character columns between the
leftmost characters in each column: (18..40), and
 is the number of entries in one column which
must be filled before entries spill into the next column.
 must be .le. . If pixel addressing
is used, instead of character addressing, then any of
, , or  may be specified with
a &rsquo;p&rsquo; suffix on the decimal value.

bmp-timer=,,,,

Optional specification of the
&rsquo;timeout=&rsquo; countdown timer. ,
specifies the character (or pixel) coordinate of the
location of the timer the same as &rsquo;bmp-table=&rsquo;
above; and the color triple specifies the character color
attributes the same as &rsquo;bmp-colors=&rsquo; above, with
the exception that the background color must be
specified. If used to override the timer specification in a
bitmap file, then the form &rsquo;bmp-timer = none&rsquo; is
acceptable. This will disable the timer display
entirely.

boot=

Sets the name of the device
(e.g. hard disk or partition) that contains the boot sector
and where the new boot sector should be written to. Notice:
The boot-device should be the device with the currently
mounted root partition.

A raid
installation is initiated by specifying a RAID1 device as
the boot device; e.g., "boot=/dev/md0".

On newer
systems you need an unique ID for the boot device. If the
boot sector should write to a partition you can use its UUID
in the same manner is for the root options.

If your boot
device is a hard disk you need a special ID, which is
supported by udev. You find the right ID in the directory
/dev/disk/by-id, i.e.:

boot =
/dev/disk/by-id/ata-SAMSUNG_SV1604N_S01FJ10X999999

change-rules

Defines boot-time changes to
partition type numbers (&rsquo;hiding&rsquo;).

change-rules

reset 
type=DOS12 
normal=1 
hidden=0x11 
type=DOS16_small 
normal=4 
hidden=0x14 
type=DOS16_big 
normal=0x06 
hidden=0x16

The above
excerpt from a configuration file specifies that all default
change-rules are removed ("reset"), and the
change-rules for three partition types are specified.
Without the reset, the three types specified would
have been added to the existing default change-rules.
Normally, the default rules are sufficient. The strings
which define the partition types are used in a change
section (see below), with the suffixes "_normal"
or "_hidden" appended. See section "Partition
type change rules" of html/user_21-5.html inside the
old documentation for more details.

compact

Tries to merge read requests
for adjacent sectors into a single read request. This
drastically reduces load time and keeps the map file
smaller. Using &rsquo;compact&rsquo; is especially
recommended when booting using a map file on a floppy
disk.

default=

Uses the specified image as the
default boot image. If &rsquo;default&rsquo; is omitted, the
image appearing first in the configuration file is used. See
also, vmdefault below.

delay=

Specifies the number of tenths
of a second the boot loader should wait before automatically
booting a locked command line, a command line pre-stored by
"lilo -R", or the default &rsquo;image=&rsquo; or
&rsquo;other=&rsquo;. When &rsquo;delay&rsquo; is non-zero,
the boot loader will wait for an interrupt for the specified
interval. If an interrupt is received, or is already
waiting, the boot: prompt will be issued, and no
automatic boot will take place. The setting of CAPS LOCK or
SCROLL LOCK, or any of the keys ALT, CTRL, or SHIFT, when
held down, are taken as interrupts.

This action is
modified by specifying &rsquo;prompt&rsquo; (see below).

disk=

Defines non-standard parameters
for the specified disk. See section "Disk
geometry" of html/user_21-5.html inside the old
documentation for details. For versions of LILO prior to
22.5, the &rsquo;bios=&rsquo; parameter is quite useful for
specifying how the BIOS has assigned device codes to your
disks. For example,

disk=/dev/sda

bios=0x80 
disk=/dev/hda 
bios=0x81 
disk=/dev/sdb 
inaccessible

would say that
your SCSI disk is the first BIOS disk (0x80), that your
(primary master) IDE disk is the second BIOS disk (0x81),
and that your second SCSI disk (perhaps a USB device)
receives no device code, and is therefore inaccessible at
boot time.

NOTE: Use of
the &rsquo;bios=&rsquo; option is largely obsolete beginning
with LILO version 22.5, as the boot loader now identifies
disks by 32-bit Volume-ID, and defers BIOS device code
determination until boot time.

Other options
include the specification of disk geometry; e.g.,

disk=/dev/fd0

sectors=18 
heads=2 
cylinders=80

probably only
useful for floppy disks and loopback devices, because for
hard disks the lba32 disk addressing option ignores
disk geometry.

Developers who
have implemented a disk driver for a new block storage
device will have to indicate to LILO the maximum number of
partitions on the device. This is in addition to making all
of the necessary entries for the device in the
"/dev" directory (with &rsquo;mknod&rsquo;). The
maximum number of partitions must be one of 63 (like an IDE
disk), 31 (uncommon), 15 (like SCSI disks -- most common
value), or 7 (like one array controller). An example
specification would be:

disk=/dev/userd0

max-partitions=15

In cases where
there is no kernel partition information available, such as
on loopback devices, the &rsquo;disk=&rsquo; specification
may include partition start information; viz.,

disk=/dev/loop0

bios=0x80

# use this BIOS code 
max-partitions=7

# declare partitionable

partition=/dev/loop1

start=63

# offset from sector 0

partition=/dev/loop2

start=102400

# offset from sector 0

disktab=

Specifies the name of the disk
parameter table. The map installer looks for
/etc/disktab if &rsquo;disktab&rsquo; is omitted. The
use of disktabs is discouraged.

el-torito-bootable-CD

Flag second stage loader to
terminate disk emulation when booting from an El Torito
Bootable CD. This option is used by the mkrescue
utility when the "--iso" switch is specified.

fix-table

This allows lilo to adjust 3D
addresses in partition tables. Each partition entry contains
a 3D (cylinder/head/sector) and a linear address of the
first and the last sector of the partition. If a partition
is not track-aligned and if certain other operating systems
(e.g. PC/MS-DOS) are using the same disk, they may change
the 3D address. lilo can store its boot sector only on
partitions where both address types correspond. lilo
re-adjusts incorrect 3D start addresses if
&rsquo;fix-table&rsquo; is set.

WARNING: This
does not guarantee that other operating systems may not
attempt to reset the address later. It is also possible that
this change has other, unexpected side-effects. The correct
fix is to re-partition the drive with a program that does
align partitions to tracks. Also, with some disks (e.g. some
large EIDE disks with address translation enabled), under
some circumstances, it may even be unavoidable to have
conflicting partition table entries.

force-backup=

Operation is identical to
backup= above, except an existing backup file is
unconditionally overwritten if it exists.

geometric

Force disk addressing which is
compatible with older versions of LILO. Geometric addressing
uses cylinder/head/sector addresses, and is limited to disk
cylinders up to 1023. If inaccessible cylinders are
referenced, diagnostics will be issued at boot-install time,
rather than boot-time. With a newer BIOS, use of
&rsquo;lba32&rsquo; is recommended.

ignore-table

tells lilo to ignore corrupt
partition tables.

install=

Selects the user interface
which will be seen at boot time. One of the following three
options may be specified: text, menu, or
bmp. The traditional LILO interface is
&rsquo;text&rsquo;; but &rsquo;menu&rsquo; is now the
default, unless the configuration file contains the
&rsquo;bitmap=&rsquo; specification. The text
interface is strictly a command-line interface as though the
console were a dumb terminal. The menu interface is a
text-based screen of the boot choices, with the option to
enter additional command line parameters. And the bmp
interface is a menu presented against a graphic screen,
specified as a 640x480 BitMaP file of 16 or 256 colors. (See
the &rsquo;lilo -E&rsquo; switch for editing options).

(Prior to LILO
version 22.3, &rsquo;install=&rsquo; specified the user
interface as a file in the &rsquo;/boot&rsquo;
directory.)

large-memory

Normally any initial ramdisk
(initrd) loaded with a kernel is loaded as high in memory as
possible, but never above 15 MB. This is due to a BIOS
limitation on older systems. On newer systems, this option
enables using memory above 15 MB (up to a kernel
imposed limit, around 768 MB) for passing the initrd to
the kernel. The presence of this option merely indicates
that your system does not have the old BIOS limitation.

This switch (or
its absence) is not passed to the kernel, and does not in
any way affect the amount of physical memory which it will
use. (See the kernel documentation for the kernel command
line parameter "mem=" for limiting the memory used
by the kernel.)

lba32

Generate 32-bit Logical Block Addresses instead of
cylinder/head/sector addresses. If the BIOS supports packet
addressing, then packet calls will be used to access the
disk. This allows booting from any partition on disks with
more than 1024 cylinders. If the BIOS does not support
packet addressing, then &rsquo;lba32&rsquo; addresses are
translated to cylinder/head/sector
(&rsquo;geometric&rsquo;), just as for &rsquo;linear&rsquo;.
All floppy disk references are retained in C:H:S form. Use
of &rsquo;lba32&rsquo; is recommended on all post-1998
systems. Beginning with LILO version 22, &rsquo;lba32&rsquo;
is the default disk addressing scheme.

linear

Generate 24-bit linear sector addresses instead of
cylinder/head/sector (geometric) addresses. Linear addresses
are translated at run time to geometric addresses, and are
limited to cylinders /sbin/lilo may
generate references to inaccessible disk cylinders.
&rsquo;lba32&rsquo; avoids many of these pitfalls with its
use of packet addressing, but requires a recent BIOS
(post-1998). The &rsquo;linear&rsquo; option is considered
obsolete, and its use is strongly discouraged.

lock

Enables automatic recording of boot command lines as the
defaults for the following boots. This way, lilo
"locks" on a choice until it is manually
overridden. 

mandatory

The per-image password option
&rsquo;mandatory&rsquo; (see below) applies to all
images.

map=

Specifies the location of the
map file. If &rsquo;map&rsquo; is omitted, the file
/boot/map is used.

On machines
with a pre-1998 BIOS, the EDD bios extensions which are
required to support "lba32" disk sector addressing
may not be present. In this case, the boot-loader will fall
back automatically to "geometric" addressing; this
fall back situation, or the specific use of
"geometric" or "linear" addressing, will
require the map file to be located within the first 1024
cylinders of the disk drive. This BIOS limitation is not
present on post-1998 systems, most of which support the
newer EDD disk BIOS calls.

menu-title=

Specifies the title line (up to
37 characters) for the boot menu. This title replaces the
default "LILO Boot Menu" title string. If
menu is not installed as the boot loader (see
install= option), then this line has no effect.

menu-scheme=

The default color scheme of the
boot menu may be overridden on VGA displays using this
option. (The color scheme of MDA displays is fixed.) The
general color-scheme string is of the form:

:::

where each
entry is two characters which specify a foreground color and
a background color. Only the first entry is required. The
default highlight is the reverse of the text color; and the
default border and title colors are the text color. Colors
are specified using the characters kbgcrmyw, for
blacK, Blue, Green, Cyan,
Red, Magenta, Yellow, and White:
upper case for intense (fg only), lower case for dim. Valid
color-scheme strings would be

menu-scheme=Wm
intense white on magenta 
menu-scheme=wr:bw:wr:Yr the LILO default 
menu-scheme=Yk:kw bright yellow on black

If menu
is not installed as the boot loader, then this line has no
effect.

message=

specifies a file containing a
message that is displayed before the boot prompt. No message
is displayed while waiting for a shifting key after printing
"LILO ". In the message, the FF character ([Ctrl
L]) clears the local screen. This is undesirable when the
menu boot loader is installed. The size of the
message file is limited to 65535 bytes. The map file has to
be rebuilt if the message file is changed or moved.
&rsquo;message=&rsquo; and &rsquo;bitmap=&rsquo; are
mutually exclusive.

nodevcache

(22.8) Disables pre-loading of
the internal device cache. May be needed for Linux
distributions which use non-standard device naming
conventions; e.g., when the first IDE disk is not
&rsquo;/dev/hda&rsquo;.

nokbdefault=

(22.7.2) The named descriptor
is taken to be the default boot image if no IBM-PC keyboard
is present. If no serial interface ("serial=") is
in use, then any "prompt" keyword and
"timeout" value are bypassed, and default booting
occurs as specified by "delay=". The keyboard
detection codes cannot detect the presence or absence of a
newer USB keyboard.

noraid

Disables the automatic marking of disk volumes which are
components of RAID arrays as inaccessible. This
allows the user to edit the disk= /
inaccessible declarations into the configuration file
himself. Without such declarations, duplicate Volume IDs
will be overwritten, leading to confusing situations at
boot-time, and possible failure to boot. The use of this
keyword is generally not necessary.

nowarn

Disables warnings about possible future dangers.

optional

The per-image option
&rsquo;optional&rsquo; (see below) applies to all
images.

password=

The per-image option
&rsquo;password=...&rsquo; (see below) applies to all
images. This option may prevent unattended booting, if the
default image is &rsquo;password=&rsquo; protected at the
default level &rsquo;mandatory&rsquo;, which is a level
higher than &rsquo;restricted&rsquo;.

prompt

Automatic booting (see &rsquo;delay&rsquo; above) will
not take place unless a locked or pre-stored ("lilo
-R") command line is present. Instead, the boot loader
will issue the boot: prompt and wait for user input
before proceeding (see timeout below). Unattended
default image reboots are impossible if &rsquo;prompt&rsquo;
is set and &rsquo;timeout&rsquo; is not, or the default
image is password protected at a higher level than
&rsquo;restricted&rsquo;. 

raid-extra-boot=

This option only has meaning
for RAID1 installations. The  may be specified
as none, auto, mbr, mbr-only, or
a comma-separated list of devices; e.g.,
"/dev/hda,/dev/hdc6". Starting with LILO version
22.0, the boot record is normally written to the first
sector of the RAID1 partition. On PARALLEL raid sets, no
other boot records are needed. The default action is
auto, meaning, automatically generate auxiliary boot
records as needed on SKEWED raid sets. none means
suppress generation of all auxiliary boot records.
mbr-only suppresses generation of a boot record on
the raid device, and forces compatibility with versions of
LILO earlier than version 22.0 by writing boot records to
all Master Boot Records (MBRs) of all disks which have
partitions in the raid set. mbr is like
mbr-only except the boot record on the RAID partition
is not suppressed. Use of an explicit list of devices,
forces writing of auxiliary boot records only on those
devices enumerated, in addition to the boot record on the
RAID1 device. Since the version 22 RAID1 codes will never
automatically write a boot record on the MBR of device 0x80,
if such a boot record is desired, this is one way to have it
written. Use of mbr is the other way to force writing
to the MBR of device 0x80.

restricted

The per-image password option
&rsquo;restricted&rsquo; (see below) applies to all
images.

serial=

enables control from a serial
line. The specified serial port is initialized and the boot
loader is accepting input from it and from the PC&rsquo;s
keyboard. Sending a break on the serial line corresponds to
pressing a shift key on the console in order to get the boot
loader&rsquo;s attention. All boot images should be
password-protected if the serial access is less secure than
access to the console, e.g. if the line is connected to a
modem. The parameter string has the following syntax:

[,[[]]]

:
the number of the serial port, zero-based. Zero (0)
corresponds to COM1 alias /dev/ttyS0, etc. All four ports
can be used (if present).

:
the baud rate of the serial port. The following baud rates
are supported: 110, 150, 300, 600, 1200, 2400 (default),
4800, 9600, plus the extended rates 19200, 38400, and 57600
(56000). The rate 115200 is allowed, but may not work with
all COMx port hardware.

:
the parity used on the serial line. The boot loader ignores
input parity and strips the 8th bit. The following (upper or
lower case) characters are used to describe the parity:
"n" for no parity, "e" for even parity
and "o" for odd parity.

:
the number of bits in a character. Only 7 and 8 bits are
supported. Default is 8 if parity is "none", 7 if
parity is "even" or "odd".

If
&rsquo;serial&rsquo; is set, the value of
&rsquo;delay&rsquo; is automatically raised to 20.

Example:
"serial=0,2400n8" initializes COM1 with the
default parameters.

single-key

This option specifies that boot
images or &rsquo;other&rsquo;s are to be selected and
launched with a single keystroke. Selection is based upon
the first character of each name, which must be unique. This
option should not be used with the menu or bitmap user
interface ("install=").

static-BIOS-codes

Causes the operation of the
boot installer and boot loader to bypass the use of
Volume-ID information, and to revert to a mode of operation
of versions of LILO from 22.4 backward. With Volume-ID
booting (22.5 and later), the BIOS codes of disks are
determined at boot time, not install time; hence they may be
switched around, either by adding or removing disk(s) from
the hardware configuration, or by using a BIOS menu to
select the boot device.

With the use of
this option, BIOS codes of disks MUST be correctly specified
at install time; either guessed correctly by LILO (which
often fails on mixed IDE/SCSI systems), or explicitly
specified with &rsquo;disk=/dev/XXX bios=0xYY&rsquo;
statements. The use of this option precludes any activity
which may switch around the BIOS codes assigned to
particular disk devices, as noted above.

In general,
this option should never be used, except as a bug
workaround.

suppress-boot-time-BIOS-data

This global option suppresses
the boot-time real mode collection of BIOS data on systems
which hang on certain BIOS calls. It is equivalent to using
the boot-time switch &rsquo;nobd&rsquo;.

This option
defeats the disk volume recognition and BIOS device code
detection features of LILO on systems with more than one
disk. Thus the use of this option will produce a strong
cautionary message, which cannot be suppressed.

timeout=

sets a timeout (in tenths of a
second) for keyboard input at the boot: prompt.
"timeout" only has meaning if "prompt"
is mentioned. If no key is pressed for the specified time,
the default image is automatically booted. The default
timeout is infinite.

unattended

(22.6) Alters the operation of
the "timeout" parameter in a manner which is
useful on noisy serial lines. Each typed (or noise)
character restarts the "timeout" timer and a
timeout will always boot the default descriptor, even if
noise characters have appeared on the input line.

verbose=

Turns on lots of progress
reporting. Higher numbers give more verbose output. If
-v is additionally specified on the lilo command
line, the level is increased accordingly. The maximum
verbosity level is 5.

vmdefault=

The named boot image is used as
the default boot if booting in "virtual" mode with
a virtual monitor, such as VMware(tm). Thus a real mode boot
and a virtual mode boot can be made to have different
default boot images.

Additionally,
the kernel configuration parameters append,
ramdisk, read-only, read-write,
root and vga can be set in the global options
section. They are used as defaults if they aren&rsquo;t
specified in the configuration sections of the respective
kernel images.

PER-IMAGE SECTION

A per-image
section starts with either a line

image=

to indicate a
file or device containing the boot image of a Linux kernel,
or a line

other=

to indicate an
arbitrary system to boot.

In the former
case, if an image line specifies booting from a
device, then one has to indicate the range of sectors to be
mapped using

range=-

range=+ 
range=

In the third
case, &rsquo;nsec=1&rsquo; is assumed.

KERNEL OPTIONS (image=)

If the booted
image is a Linux kernel, then one may pass command line
parameters to this kernel. 
addappend=

The kernel parameters of this
string are concatenated to the parameter(s) from an
append= option (see below). The string of addappend
must be enclosed within double quotes. Usually, the previous
append= will set parameters common to all kernels by
appearing in the global section of the configuration file
and addappend= will be used to add local parameter(s)
to an individual image. The addappend option may be used
only once per "image=" section.

If the string
is a very long line, this line can be divided in more lines
using "\" as last character of a line, e.g.,

addappend="noapic
acpi=off pci=usepirqmask \ 
pnpbios=off pnpacpi=off noisapnp"

append=

Appends the options specified
to the parameter line passed to the kernel. This is
typically used to specify hardware parameters that
can&rsquo;t be entirely auto-detected or for which probing
may be dangerous. Multiple kernel parameters are separated
by a blank space, and the string must be enclosed in double
quotes. A local append= appearing within an image= section
overrides any global append= appearing in the global section
of the configuration file. The append option may be used
only once per "image=" section. To concatenate
parameter strings, use "addappend=". Example:

append="mem=96M
hd=576,64,32 console=ttyS1,9600"

If the string
is a very long line, this line can be divided in more lines
using "\" as last character of a line. See example
of addappend option.

initrd=

Specifies the initial ramdisk
image to be loaded with the kernel. The image will contain
modules needed at boot time, such as network and scsi
drivers. See man pages for mkinitrd(8).

literal=

Like &rsquo;append&rsquo;, but
removes all other options (e.g. setting of the root device).
&rsquo;literal&rsquo; overrides all &rsquo;append&rsquo; and
&rsquo;addappend&rsquo; options. Because vital options can
be removed unintentionally with &rsquo;literal&rsquo;, this
option cannot be set in the global options section.

ramdisk=

This specifies the size (e.g.
"4096k") of the optional RAM disk. A value of zero
indicates that no RAM disk should be created. If this
variable is omitted, the RAM disk size configured into the
boot image is used.

read-only

This specifies that the root
file system should be mounted read-only. It may be specified
as a global option. Typically, the system startup procedure
re-mounts the root file system read-write later (e.g. after
fsck&rsquo;ing it).

read-write

This specifies that the root
file system should be mounted read-write. It may be
specified as a global option.

root=

This specifies the device that
should be mounted as root. It may be specified as a global
option. If the special name current is used, the root
device is set to the device on which the root file system is
currently mounted. If the root has been changed with
-r, the respective device is used. If the variable
&rsquo;root&rsquo; is omitted, the root device setting
contained in the running kernel image is used. Warning: This
can induce to an unbootable system!

The root
filesystem may also be specified by a LABEL= or
UUID= directive, as in &rsquo;/etc/fstab&rsquo;. In
this case, the argument to root= must be enclosed in
quotation marks, to avoid a syntax error on the second equal
sign, e.g.:

root="LABEL=MyDisk"

root="UUID=5472fd8e-9089-4256-bcaa-ceab4f01a439"

Note: The
command line root= parameter passed to the kernel
will be: &rsquo;root=LABEL=MyDisk&rsquo;; i.e., without the
quotation marks. If the root= parameter is passed
from the boot time boot: prompt, no quotes are used.
The quotes are only there to satisfy the requirements of the
boot-installer parser, which treats an equal sign as an
operator. The kernel command line parser is very much
simpler, and must not see any quotation marks. Simply
stated, only use the quotation marks within
/etc/lilo.conf.

vga=

This specifies the VGA text
mode that should be selected when booting. It may be
specified as a global option. The following values are
recognized (case is ignored):

normal:
select normal 80x25 text mode.

extended
(or ext): select 80x50 text mode.

ask:
stop and ask for user input (at boot time).

:
use the corresponding text mode (can specify the number in
decimal or in hex with the usual &rsquo;0x&rsquo;
convention). A list of available modes can be obtained by
booting with vga=ask and pressing [Enter].

If this
variable is omitted, the VGA mode setting contained in the
kernel image is used. (And that is set at compile time using
the SVGA_MODE variable in the kernel Makefile, and can later
be changed with the rdev(8) program.)

ALTERNATE SYSTEM (other=)

Used to load
systems other than Linux. The &rsquo;other =
&rsquo; specifies the boot sector of an
alternate system contained on a device or disk partition;
e.g., DOS on, say, &rsquo;/dev/hda2&rsquo;, or a floppy on
&rsquo;/dev/fd0&rsquo;. In the case of booting another
system there are these options: 
loader=

This specifies the chain loader
that should be used. It may also be specified as a global
option. By default chain is used. This chain loader
passes partition and drive information in the boot sector it
loads only to DOS on FAT12 or FAT16, Windows on FAT16 or
FAT32. (see also table= below).

table=

This specifies the device that
contains the partition table. The boot loader will pass
default partition information to the booted operating system
if this variable is omitted. (Some operating systems have
other means to determine from which partition they have been
booted. E.g., MS-DOS usually stores the geometry of the boot
disk or partition in its boot sector.) Note that /sbin/lilo
must be re-run if a partition table mapped referenced with
&rsquo;table&rsquo; is modified.

change

This keyword starts a section which describes how
primary partition IDs are changed, and how primary
partitions are activated and deactivated. If change
is omitted, change rules are generated as though the
automatic keyword were specified. The keyword
change alone, without any rules following, will
suppress automatic change-rules. For example,

other=/dev/hda2

label=dos 
table=/dev/hda 
change 
automatic 
partition=/dev/hda1 
set=DOS12_hidden 
deactivate 
partition=/dev/hda2 
set=DOS16_big_normal 
activate

specifies that
when primary partition /dev/hda2 is booted, automatic
change-rules will be in effect; plus, partition 1, a DOS12
partition, will be set hidden, and deactivated. In addition,
partition 2, will be set normal, and activated. Activation
sets the boot-flag in the partition table. The
automatic keyword may conflict with default change
rules, so the set= lines above may be redundant.

boot-as=

This option (LILO version
22.5.1) indicates the BIOS device code which must be
assigned to the specified drive in order for the
"other=" operating system to boot. If the chain
loader detects that another BIOS device code is assigned to
this disk, then it will dynamically swap the assigned device
code with the specified device code.

This option is
easier to specify than "map-drive=" and more
general than "master-boot" in that any device code
may be specified. Unlike "map-drive=", the
determination whether to swap device codes is made at boot
time, not install time. This is advantageous on systems
where the BIOS presents a boot menu of devices, and will map
disks to devices in different ways, depending upon the BIOS
boot selection.

This option may
be specified as a global option, in which case it applies to
all "other=" sections unless overridden with a
specific "master-boot" option. If one of
"boot-as=" or "master-boot" is specified
as a global option, it is better to specify
"master-boot" as the global option, as it will not
interfere with floppy disk BIOS device codes;
"boot-as=" is then used as a local option to
override "master-boot" as necessary.

master-boot

This flag (LILO version 22.5)
indicates a DOS/Windows or other system which will only boot
from BIOS device 0x80, the "C:" drive, or BIOS
device 0, the A: drive. When this flag is specified, if this
drive is not assigned device code 0x80 or 0 by the BIOS,
then the chain loader will dynamically swap the device code
actually assigned with device code 0x80 or 0 to make this
drive appear to be the first hard or floppy drive,
"C:" or "A:".

This flag is
easier to use than "map-drive=" (see below), and
is preferred, if simple forcing of device code 0x80 is all
that is required. It is also more general, in that the
necessity to swap BIOS device codes is determined
dynamically at boot-time, not at boot install-time, as with
"map-drive=". It is slightly more powerful than
"boot-as=", in that the device code which is
assigned, 0 or 0x80, is determined dynamically.

This option may
be specified as a global option, in which case it applies to
all "other=" sections unless overridden with a
specific "boot-as=" option.

map-drive=

Maps BIOS calls for the
specified drive to the device code specified on the next
line as to=. This mapping is useful for
booting operating systems, such as DOS, from the second hard
drive. The following, swaps the C: and D: drives,

map-drive=0x80

to=0x81 
map-drive=0x81 
to=0x80

This option is
largely rendered obsolete by "boot-as=",
introduced with LILO version 22.5.

unsafe

Do not access the boot sector at map creation time. This
disables some sanity checks, including a partition table
check. If the boot sector is on a fixed-format floppy disk
device, using UNSAFE avoids the need to put a readable disk
into the drive when running the map installer. If the boot
sector is on a hard drive, the BIOS device code of the drive
will have to be specified explicitly with
"disk=/dev/XXXX bios=0x8X inaccessible" in the
configuration file. &rsquo;unsafe&rsquo; and
&rsquo;table&rsquo; (explicit or implicit) are mutually
incompatible. 

COMMON DESCRIPTOR OPTIONS (image= & other=)

In both the
image= and other= cases, the following options
apply.

bypass

No password is required to boot
this image. Used to indicate that the global password does
not apply to this &rsquo;image=&rsquo; or
&rsquo;other=&rsquo;. See &rsquo;password=&rsquo; below.

label=

The boot loader uses the main
file name (without its path) of each image specification to
identify that image. A different name can be used by setting
the variable &rsquo;label&rsquo;.

alias=

A second name for the same
entry can be used by specifying an alias.

bmp-retain

The bitmap graphic
(install=bmp) is retained when control is passed to the
loaded kernel image, or other= bootloader; i.e., the screen
is not blanked to alphanumeric mode before starting the
kernel. This feature is considered EXPERIMENTAL, for those
users working with startup splash screens.

fallback=

Specifies a string that is
stored as the default command line if the current image is
booted. This is useful when experimenting with kernels which
may crash before allowing interaction with the system. If
using the fallback option, the next reboot (e.g.
triggered by a manual reset or by a watchdog timer) will
load a different (supposedly stable) kernel. The command
line stored by the fallback mechanism is cleared by removing
or changing the default command line with the -R
option, which should be a part of the boot startup
scripts.

lock

(See above.)

optional

Omit the image if it is not
available at map creation time. It may be specified as a
global option. This is useful to specify test kernels that
are not always present.

password=

Protect the
&rsquo;image=&rsquo; or &rsquo;other=&rsquo; with a password
(or passphrase). It may be specified as a global option. The
interpretation of the &rsquo;password=&rsquo; setting is
modified by the words &rsquo;mandatory&rsquo;,
&rsquo;restricted&rsquo;, and &rsquo;bypass&rsquo; (see
below). 
The password may be specified in the config-file (less
secure) or entered at the time the boot loader is installed.
To request interactive entry of the password, it should be
specified: password="". Passwords entered
interactively are not required to be entered again if the
boot installer is re-run. They are cached, in hashed form,
in a companion file to the config-file, default name:
/etc/lilo.conf.crc. If the config-file is updated, a
warning message will be issued telling you to re-run lilo
-p to force re-creation of the password cache file.

mandatory

A password is required to boot
this image. This is the default. May be used on a single
&rsquo;image=&rsquo; or &rsquo;other=&rsquo; to override a
different global setting.

nokbdisable

(22.7.2) The specified
descriptor is not bootable if the IBM-PC keyboard is not
present. This option is really only useful if the
"serial=" boot terminal is in use. With no
keyboard (and no serial terminal) attached, selecting a boot
descriptor other than the default is impossible. See
nokbdefault above.

restricted

A password is only required to
boot the image if kernel parameters are specified on the
command line (e.g. &rsquo;single&rsquo;). May be used on a
single &rsquo;image=&rsquo; or &rsquo;other=&rsquo; to
override a different global setting.

vmwarn

If booting under a virtual monitor such as VMware(tm),
the image with this label will cause a cautionary warning to
be issued at boot time, and user intervention will be
required to continue or to abort the boot process.

vmdisable

If booting under a virtual
monitor, the image with this label will not be displayed as
a boot option. The image is only bootable in real mode. See
vmdefault above.

SEE ALSO

lilo(8),
mkinitrd(8), mknod(1), mkrescue(8),
rdev(8).