NAME

systemd-debug-generator
- Generator for enabling a runtime debug shell and masking
specific units at boot

SYNOPSIS

/usr/lib/systemd/system-generators/systemd-debug-generator

DESCRIPTION

systemd-debug-generator
is a generator that reads the kernel command line and
understands three options:

If the
systemd.mask= or rd.systemd.mask= option is
specified and followed by a unit name, this unit is masked
for the runtime (i.e. for this session â€” from boot to
shutdown), similarly to the effect of systemctl(1)'s
mask command. This is useful to boot with certain
units removed from the initial boot transaction for
debugging system startup. May be specified more than once.
rd.systemd.mask= is honored only by initial RAM disk
(initrd) while systemd.mask= is honored only in the
main system.

If the
systemd.wants= or rd.systemd.wants= option is
specified and followed by a unit name, a start job for this
unit is added to the initial transaction. This is useful to
start one or more additional units at boot. May be specified
more than once. rd.systemd.wants= is honored only by
initial RAM disk (initrd) while systemd.wants= is
honored only in the main system.

If the
systemd.debug_shell or rd.systemd.debug_shell
option is specified, the debug shell service
"debug-shell.service" is pulled into the boot
transaction and a debug shell will be spawned during early
boot. By default, /dev/tty9 is used, but a specific tty can
also be specified, either with or without the /dev/ prefix.
To set the tty to use without enabling the debug shell, the
systemd.default_debug_tty= option can be used which
also takes a tty with or without the /dev/ prefix. Note that
the shell may also be turned on persistently by enabling it
with systemctl(1)'s enable command.
rd.systemd.debug_shell is honored only by initial RAM
disk (initrd) while systemd.debug_shell is honored
only in the main system.

systemd-debug-generator
implements systemd.generator(7).

SYSTEM CREDENTIALS

systemd.extra-unit.*

Credentials prefixed with
"systemd.extra-unit." specify additional units to
add to the final system. Note that these additional units
are added to both the initrd and the final system.
ConditionPathExists=!/etc/initrd-release can be used
to make sure the unit is conditioned out in the initrd. Note
that this can also be used to mask units, by simply
specifying an empty value.

Added in
version 256.

systemd.unit-dropin.*

Credentials prefixed with
"systemd.unit-dropin." add drop-ins for the
corresponding units in the final system. Each credential
must be suffixed with the full unit name including the unit
extension. Its contents must be a valid unit drop-in file.
Optionally, the unit name may be followed with
"~", followed by the drop-in name without the
".conf" suffix. If not specified, the name of the
generated drop-in will be "50-credential.conf".
Note that these additional drop-ins are added to both the
initrd and the final system.

Added in
version 256.

SEE ALSO

systemd(1),
systemctl(1), kernel-command-line(7)