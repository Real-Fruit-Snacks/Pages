NAME

pmdaOpenLog
- redirect stderr to a logfile

C SYNOPSIS

#include

#include 

void
pmdaOpenLog(pmdaInterface * dispatch);

cc ...
-lpcp_pmda -lpcp

DESCRIPTION

pmdaOpenLog
redirects stderr to the logfile specified in the
dispatch structure, set by the previous call to
pmdaDaemon(3) or pmdaGetOpt(3). The first line
of the log file will detail the name of the calling process,
the host the process is running on, and the current time. In
addition, the log is appended with the exit time of the
process by a routine registered with atexit(3).

CAVEAT

The PMDA must
be using PMDA_PROTOCOL_2 or later, as specified in
the call to pmdaDSO(3) or pmdaDaemon(3).

PCP ENVIRONMENT

Environment
variables with the prefix PCP_ are used to
parameterize the file and directory names used by PCP. On
each installation, the file /etc/pcp.conf contains
the local values for these variables. The $PCP_CONF
variable may be used to specify an alternative configuration
file, as described in pcp.conf(5). Values for these
variables may be obtained programmatically using the
pmGetConfig(3) function.

SEE ALSO

pmcd(1),
atexit(2), PMAPI(3), PMDA(3),
pmdaDaemon(3) and pmdaGetOpt(3).