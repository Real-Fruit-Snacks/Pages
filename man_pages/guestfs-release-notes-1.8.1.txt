NAME

guestfs-release-notes
- libguestfs Release Notes

RELEASE NOTES FOR LIBGUESTFS 1.8

These release
notes only cover the differences from the previous
stable/dev branch split (1.6.0). For detailed changelogs,
please see the git repository, or the ChangeLog file
distributed in the tarball.

New
features 
- Support and packages for Debian and Ubuntu. 
- Daily builds from git repository on Debian and Ubuntu to
reduce risk 
of regressions. 
- Port to ArchLinux 'pacman' (thanks Thomas S Hatch). 
- The following tools have been rewritten in C (originally
in Perl): 
. virt-cat 
. virt-df 
. virt-inspector 
. virt-ls 
. virt-rescue 
- Some C tools support encrypted guests automatically. This
is 
supported in: guestfish, guestmount, virt-cat,
virt-inspector, 
virt-ls. 
- New tool virt-filesystems (in C) which is a replacement
for 
virt-list-filesystems and virt-list-partitions, and has a
superset 
of the functionality of those tools. 
- guestfish, guestmount and the C tools use unified command
line option 
parsing, so they support many common options such as '-a
disk.img', 
'-d libvirt-domain', '-x', '-v'. The old command line option

parsing is preserved for compatibility in scripts etc. 
- guestfish no longer has any dependencies on Perl 
- New man pages containing programming examples:
guestfs-examples(3) (C/C++), 
guestfs-ocaml(3), guestfs-python(3), guestfs-ruby(3). 
- Trace mode prints return values from API functions. 
- virt-inspector can list applications installed in Windows
guests, along 
with a great deal of information about those applications.

- Add support for inspecting: Linux Mint, Mandriva, FreeBSD.

- guestfish --rw option (with no effect currently) to make
potentially 
dangerous write access explicit. 
- guestfish --listen --csh for compatibility with csh, tcsh
(thanks 
Eric Blake). 
- The first upstream version that introduced each API
function is now 
documented in guestfs(3). 
- guestfs_last_errno allows you to retrieve the errno from
the 
daemon, correctly translated to the local operating system.

- Functions can now have optional parameters. 
- Progress bars and progress notifications can now happen
for upload 
commands. 
- Appliance builder more careful about not leaving temporary
files 
around in /tmp. 
- getfattr/setfattr commands added to virt-rescue. 
- ROADMAP file covers roadmap and goals for future
releases.

Security

- New SECURITY section in guestfs(3) API documentation. 
- virt-inspector no longer runs any guest commands. 
- Inspection code is more careful about avoiding very large
files 
from guests which might previously have caused a denial of
service. 
- FUSE calls into guestmount are now traced when using
guestmount -x.

New APIs

- add-domain 
- add-drive-opts 
- getxattr 
- inspect-get-hostname 
- inspect-get-package-format 
- inspect-get-package-management 
- inspect-get-roots 
- inspect-list-applications 
- lgetxattr 
- mkfs-opts

Internals

- C programs now only link precisely with the libraries that
they use. 
- PCRE, libmagic, hivex and libvirt libraries are now
completely 
optional for building. 
- Multiple memory leaks and file descriptor leaks fixed.

- Add a POD wrapper to unify generation of man pages and
HTML files 
across all programs. 
- Source includes phony images of Fedora, Debian, Ubuntu and

Windows guests. 
- Ruby bindings have 'make install' rule. 
-  is now a single file. 
-  does not require XDR headers. 
- ocaml xml-light library is no longer required to build
(thanks 
Maxim Koltsov). 
- ./configure --disable-[...] for each language binding
(thanks 
Maxim Koltsov). 
- Old ocaml-viewer program removed (use guestfs-browser
instead). 
- New C API test type 'InitScratchFS' makes the tests run a
little 
more quickly. 
- Excluded packages in the appliance are now listed in a
separate 
file appliance/excludelist.in, and can be customized
per-distro.

Bugs
fixed 
- 663407 readlink and readlinklist returns /sysroot/ in some
paths 
- 661280 virt-rescue: panic when shutting down:
"/sbin/reboot: No such file or directory" 
- 657499 checksum: wrong check sum type causes umount to
fail 
- 655554 Whole disk paths are not made canonical by
virt-inspector 
- 654638 openssl updated to 1.0.0b libguestfs depends on
exact file names 
- 652796 ruby bindings not installed by 'make install',
hence omitted from the binary distribution

SEE ALSO

guestfs-examples(1),
guestfs-faq(1), guestfs-performance(1),
guestfs-recipes(1), guestfs-testing(1),
guestfs(3), guestfish(1),
http://libguestfs.org/

AUTHOR

Richard W.M.
Jones

COPYRIGHT

Copyright (C)
2009-2023 Red Hat Inc.

LICENSE

This program is
free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as
published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is
distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have
received a copy of the GNU General Public License along with
this program; if not, write to the Free Software Foundation,
Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301
USA.

BUGS

To get a list
of bugs against libguestfs, use this link:
https://bugzilla.redhat.com/buglist.cgi?component=libguestfs&product=Virtualization+Tools

To report a new
bug against libguestfs, use this link:
https://bugzilla.redhat.com/enter_bug.cgi?component=libguestfs&product=Virtualization+Tools

When reporting
a bug, please supply:

•

The version of libguestfs.

•

Where you got libguestfs (eg. which Linux distro,
compiled from source, etc)

•

Describe the bug accurately and give a way to reproduce
it. 

•

Run libguestfs-test-tool(1) and paste the
complete, unedited output into the bug report.