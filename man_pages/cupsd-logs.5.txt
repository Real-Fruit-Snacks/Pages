cupsd-logs(5)                    OpenPrinting                    cupsd-logs(5)

NOME
       cupsd-logs - ficheiros log do cupsd (access_log, error_log, e page_log)

DESCRIÇÃO
       O  cupsd(8)   normalmente  mantém três ficheiros de registo: access_log
       para seguir pedidos que são submetidos  ao  agendador,  error_log  para
       seguir  o  progresso e erros, e page_log para seguir as páginas que são
       imprimidas.  As  directivas  de  configuração   em   cupsd.conf(5)    e
       cups-files.conf(5)  controla  o que informação é registada e onde é ar‐
       mazenada.

   FORMATO DE FICHEIRO DE RELATÓRIO ACCESS
       O ficheiro access_log lista cada recurso HTTP  que  é  acedido  por  um
       navegador  web  ou  cliente. Cada linha é uma versão extensa do chamado
       "Formato de Log Comum" usado por muitos servidores web e ferramentas de
       reportar em web.

           host group user date-time "method resource version" status bytes       ipp-operation ipp-status

       Por exemplo:

           10.0.1.2 - - [01/Dec/2005:21:50:28 +0000] "POST / HTTP/1.1" 200 317
             CUPS-Get-Printers successful-ok-ignored-or-substituted-attributes
           localhost - - [01/Dec/2005:21:50:32 +0000] "GET /admin HTTP/1.1"
             200 0 - -
           localhost - - [01/Dec/2005:21:50:32 +0000] "POST / HTTP/1.1"
             200 157 CUPS-Get-Printers
             successful-ok-ignored-or-substituted-attributes
           localhost - - [01/Dec/2005:21:50:32 +0000] "POST / HTTP/1.1"
             200 1411 CUPS-Get-Devices -
           localhost - - [01/Dec/2005:21:50:32 +0000] "GET /admin HTTP/1.1"
             200 6667 - -

       O campo host irá normalmente ser apenas um endereço IP a menos que você
       tenha activado a directiva HostNameLookups no ficheiro cupsd.conf ou se
       o endereço IP corresponder à sua máquina local.

       O campo group contém sempre "-".

       O  campo user é o nome de utilizador autenticado do utilizador que req‐
       uisita. Se não for fornecido nenhum nome de utilizador e palavra  passe
       para o pedido, então este campo contém "-".

       O  campo  date-time  é  a data e hora do pedido em hora local e está no
       formato "[DD/MES/AAAA:HH:MM:SS +ZZZZ]".

       O campo method é o método HTTP usado: "GET", "HEAD", "OPTIONS", "POST",
       ou  "PUT".   Os pedidos "GET" são usados para obter ficheiros do servi‐
       dor, ambos para a interface web e para obter ficheiros de  configuração
       e de registo. Os pedidos "HEAD" são usados para obter informação acerca
       dum recurso antes de um "GET".  Os pedidos "OPTIONS"  são  usados  para
       melhorar  ligações  para  encriptação TLS. Os pedidos "POST" são usados
       para formulários da interface web e pedidos IPP. OS pedidos  "PUT"  são
       usados para enviar ficheiros de configuração.

       O campo resource é o nome de ficheiro do recurso requisitado.

       O  campo  version  é a versão de especificação HTTP usada pelo cliente.
       Para clientes do CUPS isto será sempre "HTTP/1.1".

       O campo status contém o estado de resultado HTTP  do  pedido,  como  se
       segue:

            200  Operação com sucesso.

            201  Ficheiro criado/modificado com sucesso.

            304  O ficheiro requerido não alterou.

            400  Mau  pedido  HTTP; tipicamente isto significa que você tem um
                 programa malicioso a tentar aceder ao seu servidor.

            401  Não autorizado, é requerido autenticação (nome de  utilizador
                 + palavra passe).

            403  Acesso  é proibido; tipicamente isto significa que um cliente
                 tentou aceder a um ficheiro ou recurso ao qual não tinha per‐
                 missão para aceder.

            404  O ficheiro ou recurso não existe.

            405  Método  de  acesso a URL não suportado; tipicamente isto sig‐
                 nifica que você tem um navegador web a usar  o  seu  servidor
                 como um proxy.

            413  Pedido  muito  grande;  tipicamente  isto  significa  que  um
                 cliente tentou imprimir um ficheiro maior que o permitido por
                 MaxRequestSize.

            426  Actualizando para ligação encriptada-TLS

            500  Erro do servidor; tipicamente isto acontece quando o servidor
                 é incapaz de abrir/criar um ficheiro -  consulte  o  ficheiro
                 error_log para detalhes.

            501  O  cliente  requereu  encriptação mas o suporte a encriptação
                 não está activo/compilado.

            505  Número de versão HTTP não suportado;  tipicamente  isto  sig‐
                 nifica  que você tem um programa malicioso a tentar aceder ao
                 seu servidor.

       O campo bytes contém o número de bytes no pedido. Para pedidos  POST  o
       campo bytes contém o número de bytes de dados não-IPP que é recebido do
       cliente.

       O campo ipp-operation contém ou "-" para pedidos não-IPP ou o  nome  da
       operação IPP para pedidos POST que contém um pedido IPP.

       O  campo  ipp-status  contém  ou  "-" para pedidos não-IPP ou o nome de
       código do estado IPP para pedidos POST que contém uma resposta IPP.

   FORMATO DE FICHEIRO DE RELATÓRIO DE ERROS
       O ficheiro error_log lista mensagens do agendador - erros, avisos, etc.
       A directiva LogLevel no ficheiro cupsd.conf(5) controla quais mensagens
       são registadas.

           level date-time message

       Por exemplo:

           I [20/May/1999:19:18:28 +0000] [Job 1] Queued on 'DeskJet' by 'mike'.
           D [20/May/1999:19:18:28 +0000] [Job 1] argv[0]="DeskJet"
           D [20/May/1999:19:18:28 +0000] [Job 1] argv[1]="1"
           D [20/May/1999:19:18:28 +0000] [Job 1] argv[2]="mike"
           D [20/May/1999:19:18:28 +0000] [Job 1] argv[3]="myjob"
           D [20/May/1999:19:18:28 +0000] [Job 1] argv[4]="1"
           D [20/May/1999:19:18:28 +0000] [Job 1] argv[5]="media=
             na_letter_8.5x11in sides=one-sided"
           D [20/May/1999:19:18:28 +0000] [Job 1] argv[6]="/var/spool/cups/
             d000001-001"
           I [20/May/1999:19:21:02 +0000] [Job 2] Queued on 'DeskJet' by 'mike'.
           I [20/May/1999:19:22:24 +0000] [Job 2] Canceled by 'mike'.

       O campo level contém o tipo de mensagem:

       A    Mensagem de alerta (LogLevel alert)

       C    Mensagem de erro crítico (LogLevel crit)

       D    Mensagem de depuração (LogLevel debug)

       d    Mensagem de depuração detalhada (LogLevel debug2)

       E    Mensagem de erro normal (LogLevel error)

       I    Mensagem de informação (LogLevel info)

       N    Mensagem de notificação (LogLevel notice)

       W    Mensagem de aviso (LogLevel warn)

       X    Mensagem de erro de emergência (LogLevel emerg)

       O campo date-time contém a data e hora de quando a página começou a ser
       imprimida.  O  formato  deste campo é idêntico ao do campo data-hora no
       ficheiro access_log.

       O campo message contém uma mensagem textual de formato livre.  As  men‐
       sagens  de  filtros  de  trabalhos  são prefixadas com "[Job NNN]" onde
       "NNN" é o ID do trabalho.

   FORMATO DE FICHEIRO DE RELATÓRIO DE PÁGINA
       O ficheiro page_log lista o número total de páginas  (folhas)  que  são
       imprimidas. Por predefinição, cada linha contém a seguinte informação:

           printer user job-id date-time total num-sheets job-billing       job-originating-host-name job-name media sides

       Por  exemplo a entrada para um trabalho de duas páginas chamado "myjob"
       poderá se parecer com isto:

           DeskJet root 1 [20/May/1999:19:21:06 +0000] total 2 acme-123
             localhost myjob na_letter_8.5x11in one-sided

       A directiva PageLogFormat no ficheiro  cupsd.conf(5)   pode  ser  usada
       para modificar esta informação.

       O  campo  printer contém o nome da impressora que imprimiu a página. Se
       você enviar um trabalho para uma classe de impressoras, este campo  irá
       conter o nome da impressora a que foi atribuído o trabalho.

       O campo user contém o nome do utilizador (o atributo nome-utilizador do
       pedido IPP) que submeteu este ficheiro para impressão.

       O campo job-id contém o número de trabalho da página a ser imprimida.

       O campo date-time contém a data e hora de quando a página começou a ser
       imprimida.  O  formato  deste campo é idêntico ao do campo data-hora no
       ficheiro access_log.

       O campo num-sheets fornece o número total de páginas (folhas) que foram
       impressas para o trabalho.

       O  campo  job-billing  contém  uma  cópia  dos atributos job-billing ou
       job-account-id fornecidos com os pedidos IPP Create-Job ou Print-Job ou
       "-" se nenhum foi fornecido.

       O  campo  job-originating-host-name  contém  o nome de máquina ou o en‐
       dereço IP do cliente que imprimiu o trabalho.

       O campo job-name contém uma cópia do atributo job-name fornecido com os
       pedidos IPP Create-Job ou Print-Job ou "-" se nenhum foi fornecido.

       O  campo  media  contém  uma cópia dos atributos media ou media-col/me‐
       dia-size fornecido com os pedidos IPP Create-Job ou Print-Job ou "-" se
       nenhum foi fornecido.

       O campo sides contém uma cópia do atributo sides fornecido com os pedi‐
       dos IPP Create-Job ou Print-Job ou "-" se nenhum foi fornecido.

VEJA TAMBÉM
       cupsd(8),  cupsd.conf(5),  cups-files.conf(5),  Ajuda  Online  do  CUPS
       (http://localhost:631/help)

COPYRIGHT
       Copyright © 2021-2022 de OpenPrinting.

2021-02-28                           CUPS                        cupsd-logs(5)