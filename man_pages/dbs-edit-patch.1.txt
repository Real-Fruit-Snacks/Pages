NAME

dbs-edit-patch
− Edit a DBS patch

SYNOPSIS

dbs−edit−patch
[−p1] patch

dbs−edit−patch
[−h | −−help]

DESCRIPTION

dbs−edit−patch
is script to generate or modify patches for Debian
source−packages in DBS format.

OPTIONS

−h,
−−help

Show summary of options.

−t,
−−tmpdir t

directory for the temporary
files, default is /tmp or if set $TMP.

−s,
−−sourcedir s

Top level directory of the
debian−package source−tree, default is the
present working directory.

−p patch

Striplevel −p of patch
(Option −p of diff(1) ), accepted values are 0
and 1, default is 0.

ENVIRONMENT VARIABLES

TMP

Sets the directory for the
temporary files, can be overriden with
−−tmpdir t

EXAMPLES

Edit the
021_debian patch of Heimdal:

~/heimdal−0.3d$
dbs−edit−patch −t/tmp 021_debian

Extracting source heimdal−0.3d.tar.gz ... successful.

Applying patch 001_replay ... successful. 
etc. 
Copying heimdal−0.3d to heimdal−0.3d−old
... successful. 
Applying patch 021_debian ... successful.

Edit files
under /tmp/021_debian/heimdal−0.3d as required, then
execute /tmp/021_debian/dbs_update_patch to save the
results.

Technote:
dbs−edit−patch extracts the original source code
into /tmp/021_debian/heimdal−0.3d, applies all patches
before 021_debian, copies the result to
/tmp/021_debian/heimdal−0.3d−old, and applies
the last patch 021_debian (if it exists). Also, it creates a
shell archive which will create the diff between the old and
new directories:

~/heimdal−0.3d$
ls −l /tmp/021_debian 
total 12 
−rwxr−xr−x 1 bam users 112 Jan 31 13:31
dbs−update−patch* 
drwxr−xr−x 14 bam users 4096 Jan 31 13:31
heimdal−0.3d/ 
drwxr−xr−x 14 bam users 4096 Jan 31 13:31
heimdal−0.3d−old/ 
~/heimdal−0.3d$ cat
/tmp/021_debian/dbs−update−patch 
#!/bin/sh 
diff −ruN /tmp/021_debian/heimdal−0.3d
/tmp/021_debian/heimdal−0.3d−old >
./debian/patches/021_debian

SEE ALSO

diff(1),
/usr/share/doc/dbs/*,
http://snoopy.apana.org.au/~bam/debian/faq/#dbs

AUTHOR

DBS was written
by Adam Heath, modified by Ben Collins, modified and
packaged for Debian by Brian May. This manpage was generated
by Andreas Metzler.