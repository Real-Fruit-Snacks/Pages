DRIVERS.CONF(5) BSD File Formats Manual
DRIVERS.CONF(5)

NAME

drivers.conf —
driver configuration file for boot floppies

DESCRIPTION

The file drivers.conf is
used during the release build process. A FreeBSD release
includes three installation floppies. The first floppy
image, kern.flp, contains a statically linked kernel.
The second floppy image, mfsroot.flp, contains
sysinstall(8), a collection of essential commands necessary
for installation, and kernel modules to supplement the boot
kernel. The third floppy image, drivers.flp, contains
optional device drivers that may not be necessary for
installation. Users must initially boot the system with
kern.flp. Once the system has booted, the user is
prompted to insert the mfsroot.flp. The modules
present in the /stand/modules directory of the
mfsroot floppy will automatically be loaded by
sysinstall(8). If the user requires additional drivers, then
the drivers present on drivers.flp may be loaded from
sysinstall(8).

The
/usr/src/release/${arch}/drivers.conf file contains a
list of drivers that should be omitted from the boot kernel
and installed as kernel modules on the mfsroot floppy or the
driver floppy. This is necessary because a static kernel
with all of the FreeBSD device drivers would be far too
large for a single floppy disk. Each driver is described on
a separate line; fields on each line are separated by tabs
or spaces.

The first field,
driver, is the name of the driver or option in the
kernel configuration file. This is used by
driver-remove.awk to remove drivers from the boot
floppy kernel configuration file that are included as
modules on the mfsroot floppy.

The second
field, filename, is the name of the associated kernel
module (without the .ko extension).

The third field,
floppy, specifies which floppy disk should include
the kernel module. A value of 2 represents the
mfsroot.flp floppy image, and a value of 3 represents
the optional drivers.flp floppy image.

The fourth
field, type, specifies the driver category. If set to
’’options’’, then this module is
assumed to add the functionality of a kernel option.
Otherwise, this module is assumed to represent a device
driver.

The fifth field,
description, provides a short description of the
device driver. This description is displayed to the user by
sysinstall(8) when the module is loaded. The descriptions
for all drivers on the optional drivers.flp image are
listed in the file DRIVERS.TXT which is created by
driver-desc.awk and accompanies the floppy images on
the FTP sites and release media.

FILES 
/usr/src/release/Makefile 
/usr/src/release/${arch}/drivers.conf 
/usr/src/release/scripts/driver-copy2.awk 
/usr/src/release/scripts/driver-desc.awk 
/usr/src/release/scripts/driver-remove.awk

SEE ALSO

release(7), kldload(8),
sysinstall(8)

FreeBSD Release
Engineering

,

http://www.FreeBSD.org/doc/en_US.ISO8859-1/articles/releng/
.

HISTORY

The drivers.conf file
appeared in FreeBSD 4.5.

AUTHORS

HOSOKAWA, Tatsumi
hosokawa [AT] FreeBSD.org> originally added support for
moving kernel modules to the mfsroot installer floppy image.
This manual page was written by Murray Stokely
murray [AT] FreeBSD.org>.

BSD
March 23, 2002 BSD