NAME

repo-add -
package database maintenance utility

SYNOPSIS

repo-add
[options]  
[ ...]

repo-remove
[options]  
[ ...]

DESCRIPTION

repo-add
and repo-remove are two scripts to help build a
package database for packages built with makepkg(8)
and installed with pacman(8).

repo-add
will update a package database by reading a built package
file. Multiple packages to add can be specified on the
command line.

If a matching
&ldquo;.sig&rdquo; file is found alongside a package file,
the signature will automatically be embedded into the
database.

repo-remove
will update a package database by removing the package name
specified on the command line. Multiple packages to remove
can be specified on the command line.

A package
database is a tar file, optionally compressed. Valid
extensions are &ldquo;.db&rdquo; followed by an archive
extension of &ldquo;.tar&rdquo;, &ldquo;.tar.gz&rdquo;,
&ldquo;.tar.bz2&rdquo;, &ldquo;.tar.xz&rdquo;, or
&ldquo;.tar.Z&rdquo;. The file does not need to exist, but
all parent directories must exist.

COMMON OPTIONS

-q,
--quiet

Force this program to keep
quiet and run silently except for warning and error
messages.

-s,
--sign

Generate a PGP signature file
using GnuPG. This will execute gpg --detach-sign --use-agent
on the generated database to generate a detached signature
file, using the GPG agent if it is available. The signature
file will be the entire filename of the database with a
&ldquo;.sig&rdquo; extension.

-k,
--key 

Specify a key to use when
signing packages. Can also be specified using the GPGKEY
environmental variable. If not specified in either location,
the default key from the keyring will be used.

-v,
--verify

Verify the PGP signature of the
database before updating the database. If the signature is
invalid, an error is produced and the update does not
proceed.

--nocolor

Remove color from
repo-add and repo-remove output.

REPO-ADD OPTIONS

-n,
--new

Only add packages that are not
already in the database. Warnings will be printed upon
detection of existing packages, but they will not be
re-added.

-R,
--remove

Remove old package files from
the disk when updating their entry in the database.

EXAMPLE

repo-add
foo.db.tar.xz  [ ...]

This creates
two separate databases; a smaller database
&ldquo;foo.db.tar.xz&rdquo; used by pacman and a large
database containing package file lists
&ldquo;foo.files.tar.xz&rdquo; for use by other utilities.
While pacman can use the large database (if renamed with a
db.tar* extension), there is currently no additional benefit
for the larger download.

SEE ALSO

makepkg(8),
pacman(8)

See the pacman
website at https://archlinux.org/pacman/ for current
information on pacman and its related tools.

BUGS

Bugs? You must
be kidding; there are no bugs in this software. But if we
happen to be wrong, submit a bug report with as much detail
as possible at the Arch Linux Bug Tracker in the Pacman
section.

AUTHORS

Current
maintainers:

&bull; Allan
McRae allan [AT] archlinux.org>

&bull; Andrew
Gregory andrew.gregory.8 [AT] gmail.com>

&bull; Eli
Schwartz eschwartz [AT] archlinux.org>

&bull; Morgan
Adamiec morganamilo [AT] archlinux.org>

Past major
contributors:

&bull; Judd
Vinet jvinet [AT] zeroflux.org>

&bull; Aurelien
Foret aurelien [AT] archlinux.org>

&bull; Aaron
Griffin aaron [AT] archlinux.org>

&bull; Dan
McGee dan [AT] archlinux.org>

&bull; Xavier
Chantry shiningxc [AT] gmail.com>

&bull; Nagy
Gabor ngaba [AT] bibl.hu>

&bull; Dave
Reisner dreisner [AT] archlinux.org>

For additional
contributors, use git shortlog -s on the pacman.git
repository.